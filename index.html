<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">  
         
        <link rel="stylesheet" href="css/reset.css">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="css/style.css">

        <title>Challenge 1</title>
    </head>
    <body>
        <header>
            <h1>ENCRIPTADOR Y DESENCRIPTADOR</h1>
        </header>    
        
        <main>
            <div class="container">
                <div class="descripcion">
                    <p>Ingrese un texto a encriptar o desencriptar usando solo letras minusculas y sin tildes.</p>
                </div> 
                <form>
                    <div class="ingreso">
                        <textarea name="texto-entrada" id="texto-entrada" cols="30" rows="10" class="texto-entrada"  spellcheck="false" placeholder="Ingrese texto aqui"></textarea>
                        <br>
                        <input type="button" value="Encriptar" id="boton-encriptar" class="boton-encriptar">      
                          
                        <input type="button" value="Desencriptar" id="boton-desencriptar" class="boton-desencriptar">            
                    </div>                
                </form>                                              
                <form>
                    <div class="salida">
                        <textarea disabled name="texto-encriptado" id="texto-encriptado" cols="30" rows="10" class="texto-encriptado" spellcheck="false" placeholder="Texto encriptado"></textarea>
                        <br>
                        <input type="button" value="Copiar texto" id="boton-copiar" class="boton-copiar">
                    </div>                    
                </form>
                
            </div>    
        </main>
        
        
       <script>
            function copiar()
             {

                navigator.clipboard.writeText(document.getElementById("texto-encriptado").value);
            }

            document.querySelector("#boton-copiar").addEventListener("click", copiar);

            function encriptar() {
                var texto = document.getElementById("texto-entrada").value;
                texto = texto
                    .replace(/e/gi, "enter")
                    .replace(/i/gi, "imes")
                    .replace(/a/gi, "ai")
                    .replace(/o/gi, "ober")
                    .replace(/u/gi, "ufat");
                document.getElementById("texto-encriptado").value = texto;
            }

            function desencriptar() {
                var texto = document.querySelector("#texto-entrada").value;
                texto = texto
                    .replace(/enter/gi, "e")
                    .replace(/imes/gi, "i")
                    .replace(/ai/gi, "a")
                    .replace(/ober/gi, "o")
                    .replace(/ufat/gi, "u");
                document.getElementById("texto-encriptado").value = texto;
            }

            var boton = document.getElementById("boton-encriptar");
            boton.onclick = function () {    
                if(document.getElementById("texto-entrada").value.match(/^[a-z ]*$/)) {
                    encriptar();
                } else {
                    alert("Solo se permiten letras minusculas, sin caracteres especiales.")
                }
            }

            var boton1 = document.getElementById("boton-desencriptar");
            boton1.onclick = function () {
                if(document.getElementById("texto-entrada").value.match(/^[a-z ]*$/)) {
                    desencriptar();
                } else {
                    alert("Solo se permiten letras minusculas, sin caracteres especiales.")
                }
            }
        </script>
    </body>
</html>